"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866],{27113:function(Q,f,t){t.r(f),t.d(f,{default:function(){return A}});var I=t(25359),m=t.n(I),x=t(49811),C=t.n(x),T=t(54306),l=t.n(T),r=t(93236),b=t(70003),d=t(35026),E=t(74567),h=t(49802),L=t(52294),S=t(33306),p=t(73669),s=t(62086),V=b.Z.Dragger;function A(){var i="loadingKey",X={name:"xlsx",multiple:!0,maxCount:10,showUploadList:!1,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",action:"/upload",onChange:function(e){var a=e.file.status;if(a==="uploading"&&d.ZP.loading({content:"\u6B63\u5728\u4E0A\u4F20...",duration:0,key:i}),a==="done"){var o=e.fileList.filter(function(n){return n.response.status==="success"});d.ZP.success({content:"\u4E0A\u4F20\u6210\u529F "+o.length+" \u4E2A\uFF0C\u5931\u8D25 "+(e.fileList.length-o.length)+" \u4E2A",duration:1.5,key:i})}else a==="error"&&d.ZP.error({content:"\u4E0A\u4F20\u5931\u8D25",duration:1.5,key:i})},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}},R=(0,r.useState)(1),v=l()(R,2),j=v[0],D=v[1],K=(0,r.useState)(0),P=l()(K,2),B=P[0],U=P[1],W=(0,r.useState)(!1),M=l()(W,2),Z=M[0],u=M[1],k=[{title:"\u795E\u7B56ID",key:"distinct_id",dataIndex:"distinct_id"},{title:"\u7528\u6237ID",key:"uid",dataIndex:"uid"},{title:"\u5E27\u7387",key:"frame_rate",dataIndex:"frame_rate"},{title:"\u7528\u6237\u72B6\u6001",key:"user_status",dataIndex:"user_status"},{title:"\u5F55\u5236\u8FDB\u7A0B",key:"record_process",dataIndex:"record_process"},{title:"\u5F55\u5236\u6A21\u5F0F",key:"record_mode",dataIndex:"record_mode"},{title:"\u5F55\u5236\u65F6\u957F\uFF08\u79D2\uFF09",key:"record_duration",dataIndex:"record_duration"},{title:"\u6587\u4EF6\u5927\u5C0F\uFF08Mb\uFF09",key:"file_size",dataIndex:"file_size",render:function(e,a,o){return e/1024/1024}},{title:"\u5206\u8FA8\u7387",key:"resolution",dataIndex:"resolution"},{title:"\u89C6\u9891\u91C7\u6837\u5E27",key:"files",dataIndex:"files",render:function(e,a,o){var n;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(E.Z.PreviewGroup,{children:a==null||(n=a.files)===null||n===void 0?void 0:n.map(function(O,N){return(0,s.jsx)(E.Z,{width:50,src:"http://10.10.40.24:3001"+O},O+"_"+N)})})})}}],z=(0,r.useState)([]),g=l()(z,2),G=g[0],F=g[1],$=(0,r.useState)([]),y=l()($,2),w=y[0],H=y[1];(0,r.useEffect)(function(){p.Z.get("/files").then(function(_){if(_.data.status==="success"){var e=_.data.data.map(function(a){return{value:a,label:a}});H(e)}}).catch(function(_){console.log(_)})},[]);function J(_){return c.apply(this,arguments)}function c(){return c=C()(m()().mark(function _(e){var a;return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u(!0),n.prev=1,n.next=4,p.Z.get("/data?name="+e);case 4:a=n.sent,F(a.data.data),U(a.data.data.length),u(!1),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),d.ZP.error("\u52A0\u8F7D\u6570\u636E\u9519\u8BEF!"),u(!1);case 14:case"end":return n.stop()}},_,null,[[1,10]])})),c.apply(this,arguments)}return(0,s.jsxs)("div",{style:{padding:"20px"},children:[(0,s.jsx)("div",{style:{display:"flex"},children:(0,s.jsx)(h.Z,{children:(0,s.jsx)(h.Z.Item,{label:"\u9009\u62E9\u6587\u4EF6",name:"filename",children:(0,s.jsx)(L.Z,{style:{width:180},onChange:function(e){J(e.split(".xlsx")[0]),D(1)},options:w})})})}),(0,s.jsx)(S.Z,{columns:k,dataSource:G,loading:{spinning:Z,tip:"\u6570\u636E\u83B7\u53D6\u4E2D..."},pagination:{pageSize:10,total:B,current:j,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u6570\u636E")},onChange:function(e){D(e)}}})]})}}}]);
