"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866],{27113:function(V,m,e){e.r(m),e.d(m,{default:function(){return A}});var x=e(25359),f=e.n(x),y=e(49811),C=e.n(y),T=e(54306),o=e.n(T),l=e(93236),b=e(70003),r=e(35026),c=e(74567),h=e(49802),L=e(52294),S=e(33306),p=e(73669),s=e(62086),X=b.Z.Dragger;function A(){var i="loadingKey",Y={name:"xlsx",multiple:!0,maxCount:10,showUploadList:!1,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",action:"/upload",onChange:function(t){var n=t.file.status;if(n==="uploading"&&r.ZP.loading({content:"\u6B63\u5728\u4E0A\u4F20...",duration:0,key:i}),n==="done"){var d=t.fileList.filter(function(a){return a.response.status==="success"});r.ZP.success({content:"\u4E0A\u4F20\u6210\u529F "+d.length+" \u4E2A\uFF0C\u5931\u8D25 "+(t.fileList.length-d.length)+" \u4E2A",duration:1.5,key:i})}else n==="error"&&r.ZP.error({content:"\u4E0A\u4F20\u5931\u8D25",duration:1.5,key:i})},onDrop:function(t){console.log("Dropped files",t.dataTransfer.files)}},B=(0,l.useState)(1),v=o()(B,2),R=v[0],D=v[1],j=(0,l.useState)(0),P=o()(j,2),K=P[0],U=P[1],W=(0,l.useState)(!1),g=o()(W,2),Z=g[0],u=g[1],G=[{title:"\u795E\u7B56ID",key:"\u795E\u7B56id",dataIndex:"\u795E\u7B56id"},{title:"\u7528\u6237ID",key:"\u7528\u6237id",dataIndex:"\u7528\u6237id"},{title:"\u5E27\u7387",dataIndex:"\u5E27\u7387"},{title:"\u4F1A\u5458\u72B6\u6001",dataIndex:"\u4F1A\u5458\u72B6\u6001"},{title:"\u4F1A\u5458\u7EA7\u522B",dataIndex:"\u4F1A\u5458\u7EA7\u522B"},{title:"\u5F55\u5236\u6A21\u5F0F",dataIndex:"\u5F55\u5236\u6A21\u5F0F"},{title:"\u5F55\u5236\u65F6\u957F\uFF08\u79D2\uFF09",dataIndex:"\u5F55\u5236\u65F6\u957F(\u79D2\uFF09"},{title:"\u6587\u4EF6\u5927\u5C0F\uFF08Byte\u5B57\u8282\uFF09",dataIndex:"\u6587\u4EF6\u5927\u5C0F\uFF08Byte\u5B57\u8282\uFF09"},{title:"\u5206\u8FA8\u7387",dataIndex:"\u5206\u8FA8\u7387"},{title:"\u89C6\u9891\u91C7\u6837\u5E27",dataIndex:"files",render:function(t,n,d){var a;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(c.Z.PreviewGroup,{children:n==null||(a=n.files)===null||a===void 0?void 0:a.map(function(I,Q){return(0,s.jsx)(c.Z,{width:50,src:"http://10.10.40.24:3001/public/"+I},I+"_"+Q)})})})}}],F=(0,l.useState)([]),M=o()(F,2),$=M[0],w=M[1],z=(0,l.useState)([]),O=o()(z,2),H=O[0],J=O[1];(0,l.useEffect)(function(){p.Z.get("/files").then(function(_){if(_.data.status==="success"){var t=_.data.data.map(function(n){return{value:n,label:n}});J(t)}}).catch(function(_){console.log(_)})},[]);function N(_){return E.apply(this,arguments)}function E(){return E=C()(f()().mark(function _(t){var n;return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return u(!0),a.prev=1,a.next=4,p.Z.get("/data?name="+t);case 4:n=a.sent,w(n.data.data),U(n.data.data.length),u(!1),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),r.ZP.error("\u52A0\u8F7D\u6570\u636E\u9519\u8BEF!"),u(!1);case 14:case"end":return a.stop()}},_,null,[[1,10]])})),E.apply(this,arguments)}return(0,s.jsxs)("div",{style:{padding:"20px"},children:[(0,s.jsx)("div",{style:{display:"flex"},children:(0,s.jsx)(h.Z,{children:(0,s.jsx)(h.Z.Item,{label:"\u9009\u62E9\u6587\u4EF6",name:"filename",children:(0,s.jsx)(L.Z,{style:{width:180},onChange:function(t){N(t.split(".xlsx")[0]),D(1)},options:H})})})}),(0,s.jsx)(S.Z,{columns:G,dataSource:$,loading:{spinning:Z,tip:"\u6570\u636E\u83B7\u53D6\u4E2D..."},pagination:{pageSize:10,total:K,current:R,showTotal:function(t){return"\u5171 ".concat(t," \u6761\u6570\u636E")},onChange:function(t){D(t)}}})]})}}}]);
